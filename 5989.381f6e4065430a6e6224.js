(self.webpackChunkcommunitygta_admin_panel=self.webpackChunkcommunitygta_admin_panel||[]).push([[5989],{5989:(t,n,e)=>{"use strict";e.r(n),e.d(n,{ActionlogsPageModule:()=>O});var o=e(8583),i=e(3679),c=e(3083),r=e(1182),s=e(639),g=e(263);function a(t,n){if(1&t){const t=s.EpF();s.TgZ(0,"ion-button",6),s.NdJ("click",function(){const n=s.CHM(t).$implicit;return s.oxw().toggleAction(n)}),s._uU(1),s.qZA()}if(2&t){const t=n.$implicit;s.ekj("selected",t.selected),s.xp6(1),s.Oqu(t.name)}}function l(t,n){if(1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.ALo(9,"date"),s.qZA(),s.qZA()),2&t){const t=n.$implicit;s.xp6(2),s.Oqu(t.user.username),s.xp6(2),s.Oqu(t.action),s.xp6(2),s.Oqu(t.note),s.xp6(2),s.Oqu(s.xi3(9,4,t.created_at,"yyyy-MM-dd HH:mm"))}}function d(t,n){if(1&t&&(s.TgZ(0,"div",1),s.TgZ(1,"table"),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"td"),s._uU(5,"User Name"),s.qZA(),s.TgZ(6,"td"),s._uU(7,"Action"),s.qZA(),s.TgZ(8,"td"),s._uU(9,"Note"),s.qZA(),s.TgZ(10,"td"),s._uU(11,"Time"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"tbody"),s.YNc(13,l,10,7,"tr",7),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(13),s.Q6J("ngForOf",t.logs)}}const p=[{path:"",component:(()=>{class t{constructor(t){this.authService=t,this.actions=[{name:"create",selected:!0},{name:"update",selected:!0},{name:"delete",selected:!0}],this.initFromDate=(new Date).toISOString(),this.initToDate=(new Date).toISOString(),this.from=this.initFromDate,this.to=this.initToDate,this.filterInput=""}ngOnInit(){this.authService.getActionlogs().subscribe(t=>{this.logs=t,this.oriLogs=t})}onFilter(t){const n=t.target.value||"";this.logs=this.oriLogs.filter(t=>{let e=!0;return e=this.actions.filter(t=>t.selected).findIndex(n=>n.name===t.action)>-1,-1!==t.user.username.toLowerCase().indexOf(n.toLowerCase())&&e})}toggleAction(t){t.selected=!t.selected,this.logs=this.oriLogs.filter(t=>{let n=!0;return n=this.actions.filter(t=>t.selected).findIndex(n=>n.name===t.action)>-1,-1!==t.user.username.toLowerCase().indexOf(this.filterInput.toLowerCase())&&n})}}return t.\u0275fac=function(n){return new(n||t)(s.Y36(g.e8))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-actionlogs"]],decls:13,vars:3,consts:[["slot","start"],[1,"content-wrapper"],["clearInput","","placeholder","filter by user name",3,"ngModel","ionChange","ngModelChange"],["slot","end",1,"actions-selection"],["fill","outline",3,"selected","click",4,"ngFor","ngForOf"],["class","content-wrapper",4,"ngIf"],["fill","outline",3,"click"],[4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",0),s._UZ(3,"ion-menu-button"),s.qZA(),s.TgZ(4,"ion-title"),s._uU(5,"Action logs"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"ion-content"),s.TgZ(7,"div",1),s.TgZ(8,"ion-item"),s.TgZ(9,"ion-input",2),s.NdJ("ionChange",function(t){return n.onFilter(t)})("ngModelChange",function(t){return n.filterInput=t}),s.qZA(),s.TgZ(10,"div",3),s.YNc(11,a,2,3,"ion-button",4),s.qZA(),s.qZA(),s.qZA(),s.YNc(12,d,14,1,"div",5),s.qZA()),2&t&&(s.xp6(9),s.Q6J("ngModel",n.filterInput),s.xp6(2),s.Q6J("ngForOf",n.actions),s.xp6(1),s.Q6J("ngIf",n.logs))},directives:[c.Gu,c.sr,c.Sm,c.fG,c.wd,c.W2,c.Ie,c.pK,c.j9,i.JJ,i.On,o.sg,o.O5,c.YG],pipes:[o.uU],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{margin:30px;border-radius:15px;box-shadow:0 3px 10px #0003;overflow:hidden;padding:20px;position:relative;overflow-x:auto}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{width:220px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .actions-selection[_ngcontent-%COMP%]{margin:12px 0 10px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .actions-selection[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-style:dashed;--border-width:1px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .actions-selection[_ngcontent-%COMP%]   ion-button.selected[_ngcontent-%COMP%]{--border-style:solid;--border-width:1px;--background:var(--ion-color-primary);--color:#fff}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;color:#444;min-width:800px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;background-color:#eee;padding:8px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px}"]}),t})()}];let u=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.Bz.forChild(p)],r.Bz]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.ez,i.u5,i.UX,c.Pc,u]]}),t})()}}]);