(self.webpackChunkcommunitygta_admin_panel=self.webpackChunkcommunitygta_admin_panel||[]).push([[4704],{4704:(n,t,o)=>{"use strict";o.r(t),o.d(t,{OrganizationsPageModule:()=>Z});var i=o(8583),e=o(3679),r=o(3083),a=o(131),s=o(263),c=o(639),g=o(5315);const u=function(n){return["/organizations",n]};function l(n,t){if(1&n&&(c.TgZ(0,"ion-item",10),c.TgZ(1,"ion-label"),c._uU(2),c.qZA(),c.TgZ(3,"ion-note",3),c._uU(4),c.qZA(),c.qZA()),2&n){const n=t.$implicit;c.Q6J("routerLink",c.VKq(3,u,n.id)),c.xp6(2),c.hij(" ",n.name," "),c.xp6(2),c.hij("Programs: ",n.total_programs,"")}}function p(n,t){1&n&&(c.TgZ(0,"ion-item"),c.TgZ(1,"ion-label"),c._uU(2,"No results"),c.qZA(),c.qZA())}const h=function(){return["/organization-create"]};function d(n,t){if(1&n){const n=c.EpF();c.ynx(0),c.TgZ(1,"ion-header"),c.TgZ(2,"ion-toolbar",1),c.TgZ(3,"ion-buttons",2),c._UZ(4,"ion-menu-button"),c.qZA(),c.TgZ(5,"ion-title"),c._uU(6),c.qZA(),c.TgZ(7,"ion-buttons",3),c.TgZ(8,"ion-button",4),c._UZ(9,"ion-icon",5),c._uU(10," \xa0 Create "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"ion-content"),c.TgZ(12,"div",6),c.TgZ(13,"ion-item"),c.TgZ(14,"ion-input",7),c.NdJ("ionChange",function(t){return c.CHM(n),c.oxw().onFilter(t)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(15,"div",8),c.YNc(16,l,5,5,"ion-item",9),c.YNc(17,p,3,0,"ion-item",0),c.qZA(),c.qZA(),c.BQk()}if(2&n){const n=c.oxw();c.xp6(6),c.hij("",null==n.organizations?null:n.organizations.length," Organizations"),c.xp6(2),c.Q6J("routerLink",c.DdM(4,h)),c.xp6(8),c.Q6J("ngForOf",n.organizations),c.xp6(1),c.Q6J("ngIf",!n.organizations.length)}}const f=[{path:"",component:(()=>{class n{constructor(n,t){this.authService=n,this.dashboardService=t}ngOnInit(){}onFilter(n){const t=n.target.value;this.organizations=this.oriOrganizations.filter(n=>-1!==n.name.toLowerCase().indexOf(t.toLowerCase()))}ionViewWillEnter(){this.authService.userRole===s.i4.superAdmin&&this.dashboardService.getAllOrganizations().subscribe(n=>{this.organizations=n,this.oriOrganizations=n}),this.authService.userRole===s.i4.neighbourhoodAdmin&&this.dashboardService.getOrganizationsByNeighbourhoodId(this.authService.userProfile$.getValue().profile.neighbourhood.id).subscribe(n=>{this.organizations=n,this.oriOrganizations=n})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(s.e8),c.Y36(g.s))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-organizations"]],decls:1,vars:1,consts:[[4,"ngIf"],["color","light"],["slot","start"],["slot","end"],["fill","solid","expand","block","color","primary",3,"routerLink"],["name","add-outline"],[1,"content-wrapper","filter"],["clearInput","","placeholder","filter by organization name",3,"ionChange"],[1,"content-wrapper"],["button","","lines","full",3,"routerLink",4,"ngFor","ngForOf"],["button","","lines","full",3,"routerLink"]],template:function(n,t){1&n&&c.YNc(0,d,18,5,"ng-container",0),2&n&&c.Q6J("ngIf",t.organizations)},directives:[i.O5,r.Gu,r.sr,r.Sm,r.fG,r.wd,r.YG,r.YI,a.rH,r.gu,r.W2,r.Ie,r.pK,r.j9,i.sg,r.Q$,r.uN],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{margin:30px;border-radius:15px;box-shadow:0 3px 10px #0003;overflow:hidden;padding:10px 0}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-wrapper.filter[_ngcontent-%COMP%]{max-width:350px}"]}),n})()}];let m=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[a.Bz.forChild(f)],a.Bz]}),n})(),Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[i.ez,e.u5,r.Pc,m]]}),n})()}}]);